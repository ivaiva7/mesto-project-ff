(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>f});var t=document.querySelector(".profile__title"),n=document.querySelector(".profile__description"),o=document.forms["edit-profile"],r=document.forms["new-place"],a=o.elements.name,c=o.elements.description,p=r.elements["place-name"],s=r.elements.link;function d(e){var t=e.target.closest(".popup");t.classList.contains("popup_is-opened")||t.classList.remove("popup_is-animated")}function i(e){var o=document.querySelector(e);if(o.classList.add("popup_is-opened","popup_is-animated"),".popup_type_edit"===e){var r=t.textContent,p=n.textContent;a.value=r,c.value=p}o.addEventListener("click",l),document.addEventListener("keydown",l),o.addEventListener("transitionend",d)}function l(e){var t=e.target.closest(".popup");t&&((e.target.classList.contains("popup__close")||e.target===t)&&(t.classList.add("popup_is-animated"),t.classList.remove("popup_is-opened")),t.removeEventListener("click",l),t.removeEventListener("transitionend",d))}function u(e){e.preventDefault();var o=document.querySelector('.popup__form[name="edit-profile"]'),r=document.querySelector('.popup__form[name="new-place"]');if(e.target.closest(".popup").classList.remove("popup_is-opened"),e.target===o)t.textContent=a.value,n.textContent=c.value,console.log(o);else if(e.target===r){var d=m({name:p.value,link:s.value},{deleteCard:_,likeCard:v,openImage:y});f.prepend(d),e.currentTarget.reset()}}function m(e,t){var n=t.deleteCard,o=t.likeCard,r=t.openImage,a=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),c=a.querySelector(".card__image");return c.src=e.link,c.alt=e.name,a.querySelector(".card__title").textContent=e.name,a.querySelector(".card__delete-button").addEventListener("click",(function(){n(a)})),a.querySelector(".card__like-button").addEventListener("click",(function(e){o(e,a)})),c.addEventListener("click",(function(e){r(e,a)})),a}function _(e){e.remove()}function v(e,t){var n=t.querySelector(".card__like-button");n&&n.classList.toggle("card__like-button_is-active")}function y(e,t){var n=document.querySelector(".popup_type_image"),o=document.querySelector(".popup__image"),r=t.querySelector(".card__image"),a=t.querySelector(".card__title"),c=document.querySelector(".popup__caption");r?(n.classList.add("popup_is-opened","popup_is-animated"),o.src=r.src,c.textContent=a.textContent,n.addEventListener("transitionend",d),n.addEventListener("click",l),document.addEventListener("keydown",l)):(e.target.classList.contains("popup__close")||e.target===n)&&(o.src="",c.textContent="",l())}document.querySelectorAll(".card");var f=document.querySelector(".content").querySelector(".places").querySelector(".places__list"),k=document.querySelector(".profile"),L=document.querySelectorAll(".popup"),g=document.querySelectorAll(".popup__form");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=m(e,{deleteCard:_,likeCard:v,openImage:y});f.append(t)})),k.addEventListener("click",(function(e){e.target.classList.contains("profile__edit-button")?i(".popup_type_edit"):e.target.classList.contains("profile__add-button")&&i(".popup_type_new-card")})),L.forEach((function(e){e.addEventListener("click",l),document.addEventListener("keydown",l),e.addEventListener("transitionend",d)})),document.addEventListener("keydown",(function(e){var t=document.querySelector(".popup.popup_is-opened");t&&"Escape"===e.key&&(t.classList.add("popup_is-animated"),t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",l))})),g.forEach((function(e){e.addEventListener("submit",u)}))})();