(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{d:()=>k});var t=document.querySelector(".profile__title"),n=document.querySelector(".profile__description"),r=document.forms["edit-profile"],o=document.forms["new-place"],c=r.elements.name,a=r.elements.description,p=o.elements["place-name"],i=o.elements.link;function s(e){var t=e.target.closest(".popup");t&&!t.classList.contains("popup_is-animated")&&t.classList.toggle("popup_is-animated")}function d(e){var t=e;t&&(t.classList.add("popup_is-opened","popup_is-animated"),t.addEventListener("click",l),t.addEventListener("click",s),document.addEventListener("keydown",u))}var l=function(e){(e.target.classList.contains("popup__close")||e.target.classList.contains("popup"))&&m(e.currentTarget)},u=function(e){if("Escape"===e.key){var t=document.querySelector(".popup.popup_is-opened");t&&m(t)}};function m(e){var t=e;t&&(t.classList.remove("popup_is-opened"),t.removeEventListener("click",l),t.removeEventListener("transitioned",s),document.removeEventListener("keydown",u))}function _(e,t){var n=t.deleteCard,r=t.likeCard,o=t.openImage,c=document.querySelector("#card-template").content.querySelector(".card").cloneNode(!0),a=c.querySelector(".card__image");return a.src=e.link,a.alt=e.name,c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__delete-button").addEventListener("click",(function(){n(c)})),c.querySelector(".card__like-button").addEventListener("click",(function(e){r(e,c)})),a.addEventListener("click",(function(e){o(e,c)})),c}function v(e){e.remove()}function f(e,t){var n=t.querySelector(".card__like-button");n&&n.classList.toggle("card__like-button_is-active")}function y(e,t){var n=document.querySelector(".popup_type_image"),r=document.querySelector(".popup__image"),o=t.querySelector(".card__image"),c=t.querySelector(".card__title"),a=document.querySelector(".popup__caption");o&&(d(n),r.src=o.src,a.textContent=c.textContent)}var k=document.querySelector(".content").querySelector(".places").querySelector(".places__list"),g=document.querySelector(".profile"),q=document.querySelector(".popup_type_edit"),S=document.querySelector(".popup_type_new-card"),L=document.querySelectorAll(".popup__form");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=_(e,{deleteCard:v,likeCard:f,openImage:y});k.append(t)})),g.addEventListener("click",(function(e){e.target.classList.contains("profile__edit-button")?(c.value=t.textContent,a.value=n.textContent,d(q)):e.target.classList.contains("profile__add-button")&&d(S)})),L.forEach((function(e){e.addEventListener("submit",(function(e){!function(e){e.preventDefault();var r=document.querySelector('.popup__form[name="edit-profile"]'),o=document.querySelector('.popup__form[name="new-place"]');if(e.target===r)t.textContent=c.value,n.textContent=a.value;else if(e.target===o){var s=_({name:p.value,link:i.value},{deleteCard:v,likeCard:f,openImage:y});k.prepend(s),e.currentTarget.reset()}}(e),m(S),m(q)}))}))})();